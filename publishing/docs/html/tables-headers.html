<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Complex Headers</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Guidelines for producing accessible tables with complex headers.">
		<script>
			var page_info = {
				'category': 'HTML',
				'appliesTo': ['EPUB3','EPUB2']
			};
		</script>
		<script src="/js/init.js"></script>
	</head>
	
	<body>
		<main>
			<section id="summary">
				<h3>Summary</h3>
				
				<p>The correct tagging and description of data tables simplifies access and understanding for users who 
					cannot see the data or need additional help understanding it.</p>
			</section>
			
			<section id="tech">
				<h3>Techniques</h3>
				
				<ul>
					<li>
						<p>Ensure that table headers are identified and their scope (row or column) is defined. [[WCAG-1.3.1]]</p>
					</li>
				</ul>
			</section>

			<section id="ex">
				<h3>Examples</h3>

				<figure id="ex-03">
					<figcaption><span class="label">Example 3 &#8212; Layered headers</span></figcaption>
					
					<p>The following table is separated by topic.</p>
					
					<p>Because the topic headings for each cell cannot be represented by the <code>scope</code> attribute
						alone, the <code>headers</code> attribute is used to specify the headers for each cell. It lists
						the ID of each header.</p>
					
					<table>
						<tr>
							<td></td>
							<th id="y1950">1950</th>
							<th id="y1975">1975</th>
							<th id="y2000">2000</th>
						</tr>
						<tr>
							<th colspan="4" id="gondor">Gondor</th>
						</tr>
						<tr>
							<th id="gmale">Male</th>
							<td headers="gondor y1950 gmale">1,001,542</td>
							<td headers="gondor y1975 gmale">1,583,771</td>
							<td headers="gondor y2000 gmale">2,221,945</td>
						</tr>
						<tr>
							<th id="gfemale">Female</th>
							<td headers="gondor y1950 gfemale">1,122,947</td>
							<td headers="gondor y1975 gfemale">1,782,371</td>
							<td headers="gondor y2000 gfemale">2,544,187</td>
						</tr>
						<tr>
							<th colspan="4" id="mordor">Mordor</th>
						</tr>
						<tr>
							<td colspan="4" class="center">&#8230;</td>
						</tr>
					</table>
					
					<pre id="ex-03-src" class="prettyprint linenums"><code>&lt;table>
   &lt;tr>
      &lt;td>&lt;/td>
      &lt;th id="y1950">1950&lt;/th>
      &lt;th id="y1975">1975&lt;/th>
      &lt;th id="y2000">2000&lt;/th>
   &lt;/tr>
   &lt;tr>
      &lt;th colspan="4" id="gondor">Gondor&lt;/th>
   &lt;/tr>
   &lt;tr>
      &lt;th id="gmale">Male&lt;/th>
      &lt;td headers="gondor gmale y1950">1,001,542&lt;/td>
      &lt;td headers="gondor gmale y1975">1,583,771&lt;/td>
      &lt;td headers="gondor gmale y2000">2,221,945&lt;/td>
   &lt;/tr>
   &lt;tr>
      &lt;th id="gfemale">Female&lt;/th>
      &lt;td headers="gondor gfemale y1950">1,122,947&lt;/td>
      &lt;td headers="gondor gfemale y1975">1,782,371&lt;/td>
      &lt;td headers="gondor gfemale y2000">2,544,187&lt;/td>
   &lt;/tr>
   &lt;tr>
      &lt;th colspan="4" id="mordor">Mordor&lt;/th>
   &lt;/tr>
   &#8230;
&lt;/table></code></pre>
				</figure>
			</section>
			
			<section id="desc">
				<h3>Explanation</h3>
				
				<p>When more than one header applies to a column, a <code>headers</code> attribute should be
					attached to each of its cells to clarify for an AT which headers apply. For example:</p>
				
				<pre id="ex-06-src" class="prettyprint linenums"><code>&lt;table>
   &lt;thead>
     &lt;tr>
       &lt;th id="sales" rowspan="4">Sales&lt;/th>
     &lt;/tr>
     &lt;tr>
       &lt;th id="ub" rowspan="2">Ultrabooks&lt;/th>
       &lt;th id="tab" rowspan="2">Tablets&lt;/th>
     &lt;/tr>
     &lt;tr>
       &lt;th id="ugross">Gross&lt;/th>
       &lt;th id="unet">Net&lt;/th>
       &lt;th id="tgross">Gross&lt;/th>
       &lt;th id="tnet">Net&lt;/th>
     &lt;/tr>
   &lt;/thead>
   &lt;tbody>
     &lt;tr>
       &lt;td headers="ugross sales ub">$100,000&lt;/td>
       &lt;td headers="unet sales ub">$12,500&lt;/td>
       &lt;td headers="tgross sales tab">$45,000&lt;/td>
       &lt;td headers="tnet sales tab">$5,250&lt;/td>
     &lt;/tr>
   &lt;/thead>
   &#8230;
&lt;/table></code></pre>
				
				<p>The <code>headers</code> attribute identifies the cells that contain the header text by their
					<code>id</code> attribute value. The order in which the ids are included in the attribute determines
					how the headers are to be announced or rendered to the user, so care must be taken to ensure logical
					playback results.</p>
				
				<p>The ordering of the headers does not have to exactly match the markup if another ordering would make more
					sense. In the previous example. it will make more sense to the user to announce "gross sales
					ultrabooks" than "sales ultrabooks gross".</p>
				
				<p>More generally, whenever there is any ambiguity about which headers apply to a cell, a
					<code>headers</code> attribute should be attached. Note that HTML5 no longer allows
					the <code>td</code> element to be used for headers (i.e., a <code>td</code> element cannot be referenced
					from the <code>headers</code> attribute).</p>
			</section>
			
			<section id="refs">
				<h3>Related Links</h3>

				<ul>
					<li>MDN &#8212; <a
						href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table">&lt;table>: The Table
						element</a></li>
					<li>HTML &#8212; <a href="https://html.spec.whatwg.org/multipage/tabular-data.html#the-table-element">The
								<code>table</code> element</a></li>
				</ul>
			</section>
		</main>
	</body>
</html>
