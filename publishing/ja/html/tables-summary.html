<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>表の概要（テーブルサマリー）</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Guidelines for describing the structure of tables.">
		<script>
			var page_info = {
				'category': ['HTML'],
				'appliesTo': ['Audiobooks*','EPUB3','EPUB2'],
				'related': ['html-table-basics','html-table-captions']
			};
		</script>
		<script src="/js/init.js"></script>
	</head>
	
	<body>
		<main>
			<section id="summary">
				<h3>要約</h3>
				
				<p>Add summaries for tables with complex layouts to explain how they are structured.</p>
			</section>
			
			<section id="tech">
				<h3>テクニック</h3>
				
				<ul>
					<li>Provide a summary that describes the structure of complex tables. [[WCAG-1.3.1]]</li>
					<li>Ensure the summary and caption do not repeat the same text. [[WCAG-1.3.1]]</li>
				</ul>
			</section>

			<section id="ex">
				<h3>例</h3>
				
				<figure id="ex-01">
					<figcaption>
						<div class="label">Example 1 — Summary in the table caption</div>
						<p>In these examples, the summary is provided within the table's <code>caption</code> 							element. One example uses a <code>p</code> tag, so the summary is always visible, 							while the other uses a <code>details</code> element to collapse the summary.</p>
					</figcaption>
					
					<pre id="ex-01a-src" class="prettyprint linenums"><code>&lt;table&gt;
   &lt;caption&gt;
      &lt;p class="title"&gt;Consolidated Statements of Operations&lt;p&gt;
      &lt;p class="desc"&gt;
         The table contains the complete list of
         operational expenses for the last three years.
         These expenses are categorized within the table to …
      &lt;/p&gt;
   &lt;/caption&gt;
   …
&lt;/table&gt;</code></pre>
					
					<pre id="ex-01b-src" class="prettyprint linenums"><code>&lt;table aria-details="tbl-desc"&gt;
   &lt;caption&gt;
      &lt;p class="title"&gt;Consolidated Statements of Operations&lt;/p&gt;
      &lt;details id="tbl-desc"&gt;
         &lt;summary&gt;Description&lt;/summary&gt;
         &lt;p class="desc"&gt;
            The table contains the complete list
            of operational expenses for the last
            three years. These expenses are
            categorized within the table to …
         &lt;/p&gt;
      &lt;details&gt;
   &lt;/caption&gt;
   …
&lt;/table&gt;</code></pre>
				</figure>
				
				<figure id="ex-02">
					<figcaption>
						<div class="label">Example 2 — Summary in a figure</div>
						<p>最初の例では、表の概要が図表の<code>figcaption</code>要素内で提供されています。</p>
						<p>二番目の例では、表の概要に<code>details</code>要素が使用されています。 <code>details</code>要素はEPUBの<code>figure</code>内では十分にサポートされていないため、<code>figure</code>の後に配置され、<code>aria-details</code>属性を使用して図にリンクされています。</p>
					</figcaption>
					
					<pre id="ex-02a-src" class="prettyprint linenums"><code>&lt;figure aria-details="tbl-desc"&gt;
   &lt;figcaption&gt;
      &lt;p class="title"&gt;Consolidated Statements of Operations&lt;/p&gt;
      &lt;p class="desc"&gt;
         The table contains the complete list of
         operational expenses for the last three years.
         These expenses are categorized within the table to …
      &lt;/p&gt;
   &lt;/figcaption&gt;

   &lt;table aria-details="tbl-desc"&gt;
      …
   &lt;/table&gt;
&lt;/figure&gt;</code></pre>
					
					<pre id="ex-02b-src" class="prettyprint linenums"><code>&lt;figure aria-details="tbl-desc"&gt;
   &lt;figcaption&gt;Consolidated Statements of Operations&lt;/figcaption&gt;

   &lt;table aria-details="tbl-desc"&gt;
      …
   &lt;/table&gt;
&lt;/figure&gt;

&lt;details id="tbl-desc"&gt;
   &lt;summary&gt;Description&lt;/summary&gt;
   &lt;p class="desc"&gt;
      The table contains the complete list
      of operational expenses for the last
      three years. These expenses are
      categorized within the table to …
   &lt;/p&gt;
&lt;details&gt;</code></pre>
				</figure>
				
				<figure id="ex-03">
					<figcaption>
						<div class="label">Example 3 — Hidden summary associated with ARIA attributes</div>
						<p>In this example, the summary cannot be visibly displayed, so the hidden text is linked 							to the table using the <code>aria-describedby</code> attributes. Although assistive 							technologies will normally not read hidden text, the use of the ARIA attribute allows 							users to hear the summary.</p>
					</figcaption>
					
					<pre id="ex-03b-src" class="prettyprint linenums"><code>&lt;table aria-describedby="tbl-desc"&gt;
   …
&lt;/table&gt;

&lt;p id="tbl-desc" hidden=""&gt;
   The table contains the complete list of
   operational expenses for the last three years.
   These expenses are categorized within the table to …
&lt;/p&gt;</code></pre>
				</figure>
			</section>
			
			<section id="desc">
				<h3>解説</h3>
				
				<p>複雑な情報や構造を持つ表の場合、表の読み方についてユーザー向けに説明文を入れることで、大幅に理解しやすくなります。これらの概要は、コンテンツを見ることができないユーザーだけでなく、さまざまなユーザーのニーズに役立ちます。</p>
				
				<p>The summary for a table should ideally be placed before users encounter the table. If this is 					not possible, ARIA attributes such as <code>aria-details</code> and <code>aria-describedby</code> 					can be used to programmatically link the summary to the table. These attributes allow assistive 					technologies to provide the summary to the user when they reach the table, despite being positioned 					elsewhere.</p>
				
				<p>There are many methods for adding summaries. While this page lists some, the HTML specification also 					includes a <a href="https://html.spec.whatwg.org/multipage/tabular-data.html#sec-techniques-for-describing-tables">section detailing others</a>. All these methods are valid, so the choice of which to use can 					be dictated by the publisher's workflow needs.</p>
			</section>
			
			<section id="refs">
				<h3>関連リンク</h3>

				<ul>
					<li>HTML — <a href="https://html.spec.whatwg.org/multipage/tabular-data.html#sec-techniques-for-describing-tables">テーブルを記述するためのテクニック</a>
</li>
				</ul>
			</section>
		</main>
	</body>
</html>
